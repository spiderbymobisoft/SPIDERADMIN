<!-- <h1 class="page-title">My <span class="fw-semi-bold">Profile</span></h1> -->
<div *ngIf="lightSwitch" class="row profile">

  <!-- COMPOSE SUPPORT REQUEST -->
  <div class="col-lg-6 col-12 animated pulse">
    <section class="widget card-interface">
      <header class="text-center">
        <div>
          <img src="assets/icon/notification.svg" height="100px" alt="">
        </div>
        <div class="padding-top">

          <h1 class="page-title">
           New
            <span class="fw-semi-bold text-center">Message</span>
          </h1>
        </div>
      </header>
      <div class="widget-body">
        <form class="form-horizontal form-label-left parsleyjs" method="post" data-parsley-priority-enabled="false" novalidate="novalidate"
          (ngSubmit)="sendMessage()">
          <fieldset>
            <legend>
              Recepient
            </legend>
            <div class="form-group row">
              <div class="col-12">
                <select required class="btn btn-custom btn-md btn-select" data-style="btn-secondary btn-md" [(ngModel)]="payload.user.id" tabindex="-1"
                  id="targetgroup" name="targetgroup">
                  <option *ngFor="let user of users" [value]="user._id">{{ user.personal.firstname }} {{ user.personal.lastname }}</option>
                </select>
              </div>
            </div>
            <legend>
              Title
            </legend>
            <div class="form-group row">
              <div class="col-12">
                <input id="message_title" name="message_title" class="form-control form-control-md" required="required"
                  [(ngModel)]="payload.message.title" placeholder="Message title" />

              </div>
            </div>
            <legend>
              Message
            </legend>
            <div class="form-group row">
              <div class="col-12">
                <!-- <app-tiny-editor [elementId]="'htmlcontent_requirements'" (onEditorContentChange)="keyInRequirements($event)">
                      </app-tiny-editor> -->
                <textarea rows="6" maxlength="1000" id="message_body" name="message_body" class="form-control form-control-md" required="required"
                  [(ngModel)]="payload.message.body" placeholder="SUGGESTION: Your message should be direct and easily digestable. The more conversational, the better. NOTE: (1000 characters max)"></textarea>

              </div>
            </div>

          </fieldset>
          <div class="form-actions bg-white">
            <button *ngIf="!publishSwitch" type="submit" class="btn btn-primary btn-rounded float-xs-right">
              Send Message
              <i class="fa fa-comments text-white large-icon-md margin-top-3 pull-left"></i>
            </button>
            <a *ngIf="publishSwitch" class="btn btn-grey" disabled>
              <span class="spinner">
                <i class="fa fa-spinner fa-spin"></i>
                Sending...
              </span>
            </a>
          </div>
        </form>
      </div>
    </section>
  </div>
</div>